<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title>
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <script src="./Make.js"></script>
    <script type="text/javascript">
      var make;
      document.addEventListener( "DOMContentLoaded", function() {
        make = Make({
          makeAPI: "http://localhost:5000"
        });

        var id;

        make.createMake({
          "title": "Really awesome make",
          "email": "matts@mozillafoundation.org",
          "contentType": "text/html",
          "body": "This is some random body Data. This is some random body Data. This is some random body Data. This is some random body Data. This is some random body Data.",
          "difficulty": "Intermediate",
          "locale": "en_us",
          "updatedAt": Date.now(),
          "url": "www.webmadecontent.org/sdf23r23we",
          "remixedFrom": null,
          "tags": [ "thimble.wm.org:project", "thimble.wm.org:featured" ],
          "author": "matts@mozillafoundation.org"
        }, function( response ){
          console.log( response );
          id = response._id;
          make.updateMake( id, { title: "NEW IMPROVED TITLE" }, function( response ) {
            console.log( response );
            make.deleteMake( id, function( response ) {
              console.log( response );
            });
          })
        });
      }, false );

      function grabTags() {
        make.getByTags({
          tags: document.getElementById( "tags-single" ).value.split( "," ),
          "minimum_match": 1
        }).run(function( data ) {
          console.log(data);
        });
      }

      function myProjects() {
        make.getAuthorsMakes({
          author: document.getElementById( "author" ).value
        })
        .withTags({
          tags: document.getElementById( "tags-multiple" ).value.split( "," ),
          execution: document.querySelector( "input[name='execution']:checked" ).value
        })
        .size( document.getElementById( "size" ).value )
        .run(function( data ) {
          console.log(data);
        });
      }

    </script>

  </head>

  <body>
    All inputs accept CSV for multiple search terms<br><br>
    Tags<input type="text" id="tags-single"/><br><br>

    <input type="button" onclick="grabTags();" value="Search Tags"/>

    <br><br><br>
    Tags<input type="text" id="tags-multiple"/><br><br>
    Author (not CSV)<input type="text" id="author"/><br><br>
    Num<input type="number" id="size" /><br>
    Execution:<br>
    And<input type="radio" name="execution" value="and" checked/>
    Or<input type="radio" name="execution" value="bool" />

    <input type="button" onclick="myProjects();" value="Search My Projects"/>
  </body>
</html>


